module bio.db (*)

import conventions (Str, List)

source Python from "entrez.py" 
  ( "mlc_search_entrez" as searchEntrez
  , "mlc_nucleotide_accession_to_xml" as nucleotideAccessionToXml
  )

record EntrezSearchConfig = EntrezSearchConfig
  { email :: Str
  , db :: Str  
  , mindate :: Str
  , maxdate :: Str
  , retmax :: Int 
  }

record Python EntrezSearchConfig = "dict"
  { email :: "str"
  , db :: "str"  
  , mindate :: "str"
  , maxdate :: "str"
  , retmax :: "int"
  }

searchEntrez :: EntrezSearchConfig -> Str -> [Str]
searchEntrez py :: EntrezSearchConfig -> "str" -> ["str"]

nucleotideAccessionToXml :: [Str] -> [Str] 

-- search = searchEntrez
--   { email = "weena@morloc.com"
--   , db = "nuccore"
--   , mindate = "2021/01/01"
--   , maxdate = "2022/12/31"
--   , retmax = 20
--   }
